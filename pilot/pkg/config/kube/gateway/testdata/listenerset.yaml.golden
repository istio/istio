apiVersion: networking.istio.io/v1
kind: Gateway
metadata:
  annotations:
    internal.istio.io/gateway-semantics: gateway
    internal.istio.io/gateway-service: istio-ingressgateway.istio-system.svc.domain.suffix
    internal.istio.io/parent-namespace: istio-system
    internal.istio.io/parents: XListenerSet/multi-entry/forth.istio-system
  creationTimestamp: null
  name: multi-entry-istio-autogenerated-k8s-gateway-forth
  namespace: istio-system
spec:
  servers:
  - hosts:
    - istio-system/forth.foo.com
    port:
      name: default
      number: 443
      protocol: HTTPS
    tls:
      credentialName: kubernetes-gateway://istio-system/my-cert-http
      mode: SIMPLE
---
apiVersion: networking.istio.io/v1
kind: Gateway
metadata:
  annotations:
    internal.istio.io/gateway-semantics: gateway
    internal.istio.io/gateway-service: istio-ingressgateway.istio-system.svc.domain.suffix
    internal.istio.io/parent-namespace: istio-system
    internal.istio.io/parents: XListenerSet/multi-entry/third.istio-system
  creationTimestamp: null
  name: multi-entry-istio-autogenerated-k8s-gateway-third
  namespace: istio-system
spec:
  servers:
  - hosts:
    - istio-system/third.foo.com
    port:
      name: default
      number: 80
      protocol: HTTP
---
apiVersion: networking.istio.io/v1
kind: Gateway
metadata:
  annotations:
    internal.istio.io/gateway-semantics: gateway
    internal.istio.io/gateway-service: istio-ingressgateway.istio-system.svc.domain.suffix
    internal.istio.io/parents: Gateway/parent-gateway/foo.istio-system
  creationTimestamp: null
  name: parent-gateway-istio-autogenerated-k8s-gateway-foo
  namespace: istio-system
spec:
  servers:
  - hosts:
    - istio-system/foo.com
    port:
      name: default
      number: 80
      protocol: HTTP
---
apiVersion: networking.istio.io/v1
kind: Gateway
metadata:
  annotations:
    internal.istio.io/gateway-semantics: gateway
    internal.istio.io/gateway-service: istio-ingressgateway.istio-system.svc.domain.suffix
    internal.istio.io/parent-namespace: istio-system
    internal.istio.io/parents: XListenerSet/single-entry-http/first.istio-system
  creationTimestamp: null
  name: single-entry-http-istio-autogenerated-k8s-gateway-first
  namespace: istio-system
spec:
  servers:
  - hosts:
    - istio-system/first.foo.com
    port:
      name: default
      number: 80
      protocol: HTTP
---
apiVersion: networking.istio.io/v1
kind: Gateway
metadata:
  annotations:
    internal.istio.io/gateway-semantics: gateway
    internal.istio.io/gateway-service: istio-ingressgateway.istio-system.svc.domain.suffix
    internal.istio.io/parent-namespace: istio-system
    internal.istio.io/parents: XListenerSet/single-entry-tls/second.istio-system
  creationTimestamp: null
  name: single-entry-tls-istio-autogenerated-k8s-gateway-second
  namespace: istio-system
spec:
  servers:
  - hosts:
    - istio-system/second.foo.com
    port:
      name: default
      number: 443
      protocol: HTTPS
    tls:
      credentialName: kubernetes-gateway://istio-system/my-cert-http
      mode: SIMPLE
---
apiVersion: networking.istio.io/v1
kind: VirtualService
metadata:
  annotations:
    internal.istio.io/parents: HTTPRoute/bind-both.istio-system,HTTPRoute/bind-parent.istio-system
    internal.istio.io/route-semantics: gateway
  creationTimestamp: null
  name: istio-system~parent-gateway-istio-autogenerated-k8s-gateway-foo~*
  namespace: istio-system
spec:
  gateways:
  - istio-system/parent-gateway-istio-autogenerated-k8s-gateway-foo
  hosts:
  - '*'
  http:
  - match:
    - uri:
        prefix: /parent
    name: istio-system.bind-parent.0
    route:
    - destination:
        host: httpbin.istio-system.svc.domain.suffix
        port:
          number: 80
  - match:
    - uri:
        prefix: /both
    name: istio-system.bind-both.0
    route:
    - destination:
        host: httpbin.istio-system.svc.domain.suffix
        port:
          number: 80
---
apiVersion: networking.istio.io/v1
kind: VirtualService
metadata:
  annotations:
    internal.istio.io/parents: HTTPRoute/bind-both.istio-system,HTTPRoute/bind-set.istio-system
    internal.istio.io/route-semantics: gateway
  creationTimestamp: null
  name: istio-system~single-entry-http-istio-autogenerated-k8s-gateway-first~*
  namespace: istio-system
spec:
  gateways:
  - istio-system/single-entry-http-istio-autogenerated-k8s-gateway-first
  hosts:
  - '*'
  http:
  - match:
    - uri:
        prefix: /both
    name: istio-system.bind-both.0
    route:
    - destination:
        host: httpbin.istio-system.svc.domain.suffix
        port:
          number: 80
  - match:
    - uri:
        prefix: /set
    name: istio-system.bind-set.0
    route:
    - destination:
        host: httpbin.istio-system.svc.domain.suffix
        port:
          number: 80
---
