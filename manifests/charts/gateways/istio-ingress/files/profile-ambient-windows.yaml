# WARNING: DO NOT EDIT, THIS FILE IS A COPY.
# The original version of this file is located at /manifests/helm-profiles directory.
# If you want to make a change in this file, edit the original one and run "make gen".

# The ambient profile enables ambient mode. The Istiod, CNI, and ztunnel charts must be deployed
meshConfig:
  defaultConfig:
    proxyMetadata:
      ISTIO_META_ENABLE_HBONE: "true"
global:
  variant: distroless
pilot:
  env:
    PILOT_ENABLE_AMBIENT: "true"
    # TODO: at some point we need to modify the templates for pilot
    # to make sure it can generate manifests with multiple trusted nodes
    # like below.
    CA_TRUSTED_NODE_ACCOUNTS: "istio-system/ztunnel,istio-system/ztunnel-windows"
cni:
  ambient:
    enabled: true
cni_windows:
  ambient:
    enabled: true